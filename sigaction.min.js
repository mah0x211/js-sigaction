(function(){function g(a){return"function"===typeof a}function h(a){(a instanceof HTMLElement||a instanceof SVGElement)&&a._signal_ctx&&(a._signal_ctx.j.forEach(function(b){a.removeEventListener(b,m)}),a._signal_ctx=null)}function m(a){var b=a.target._signal_ctx;b&&k.apply(k,[b.name,a].concat(b.h))}function l(a){if((a instanceof HTMLElement||a instanceof SVGElement)&&a.dataset.sigaction){a._signal_ctx&&h(a);var b=a.dataset.sigaction.split("|"),d=b[0].trim(),c=(b[1]||"").split(",").map(function(a){return a.trim()}),
e=(b[2]||"").split(",").map(function(a){return a.trim()});if(2>b.length||3<b.length)throw new SyntaxError("data-signal format must be signame|event,...|arg,...");c.forEach(function(b){a.addEventListener(b,m)});a._signal_ctx={name:d,j:c,h:e}}}function p(a){a.forEach(function(a){switch(a.type){case "attributes":a=a.target;a.dataset.sigaction?l(a):h(a);break;case "childList":Array.prototype.slice.call(a.addedNodes).forEach(l),Array.prototype.slice.call(a.removedNodes).forEach(h)}})}function n(){window.removeEventListener("load",
n);(new MutationObserver(p)).observe(document.body,{childList:!0,subtree:!0,attributes:!0});Array.prototype.slice.call(document.querySelectorAll("*[data-sigaction]")).forEach(l)}function k(a,b){if("string"!==typeof a)throw new TypeError("signame must be string");var d=f[a];if(d){var c=Array.prototype.slice.call(arguments),e=0;c.shift();d.forEach(function(a){try{a.g.apply(a.i,c),e++}catch(q){console.error(q)}});return e}return 0}var f={};window.addEventListener("load",n);window.sigaction={add:function(a,
b,d){if("string"!==typeof a)throw new TypeError("signame must be string");if(!g(b))throw new TypeError("act must be function");var c=f[a];if(c){a=0;for(var e=c.length;a<e;a++)if(c[a].g===b)return!1}else c=[],f[a]=c;c.push({g:b,i:d||b});return!0},remove:function(a,b){if("string"!==typeof a)throw new TypeError("signame must be string");if(!g(b))throw new TypeError("act must be function");if(a=f[a])for(var d=0,c=a.length;d<c;d++)if(a[d].g===b)return a.splice(d,1),!0;return!1},raise:k};g(window.SigactionLoaded)&&
window.SigactionLoaded()})();
